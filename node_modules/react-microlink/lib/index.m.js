Object.defineProperty(exports,"__esModule",{value:!0}),exports.fetchFromApi=exports.fetchFromApiUrl=exports.createApiUrl=exports.imageProxy=void 0;var e,t,r=Object.assign||function(e){for(var t=arguments,r=1;r<arguments.length;r++){var o=t[r];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),n=(e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(t,r,o,n){var a=arguments,i=t&&t.defaultProps,l=arguments.length-3;if(r||0===l||(r={}),r&&i)for(var c in i)void 0===r[c]&&(r[c]=i[c]);else r||(r=i||{});if(1===l)r.children=n;else if(l>1){for(var s=Array(l),p=0;p<l;p++)s[p]=a[p+3];r.children=s}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:r,_owner:null}}),a=require("react"),i=(t=a)&&t.__esModule?t:{default:t},l=require("./components/Card"),c=require("./utils");function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){var t=e.url,r=e.size,o=e.title,i=e.description;return n(a.Fragment,{},void 0,n(l.CardMedia,{image:e.image,video:e.video,url:t,cardSize:r,autoPlay:e.autoPlay,controls:e.controls,muted:e.muted,loop:e.loop,playsInline:e.playsInline}),n(l.CardContent,{className:"microlink_card__content",title:o,description:i,url:t,cardSize:r}))},u=function(e){function t(){var e,r,o,n=arguments;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=n[l];return r=o=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o.state={loading:!0},o.setData=function(e){var t=[].concat(o.props.image),r=(0,c.someProp)(e,t),n=(0,c.getUrlPath)(r),a=r||{};o.setState({color:a.color,backgroundColor:a.background_color,title:e.title,description:e.description,url:e.url,loading:!1,video:e.video,image:n})},s(o,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,o=t.data;(t.noFetch||!t.url?Promise.resolve({}):(0,c.fetchFromApi)(this.props)).then(function(t){return e.setData(r({},t.data,o))})}},{key:"componentDidUpdate",value:function(e){e.data!==this.props.data&&this.setData(this.props.data)}},{key:"render",value:function(){var e=this.state,t=e.title,o=e.color,a=e.backgroundColor,s=e.url,u=e.loading,d=e.description,f=e.image,m=e.video,y=this.props,h=y.autoPlay,v=y.controls,g=y.loop,b=y.muted,P=y.playsInline,_=y.className,x=y.size,O=y.loading,A=function(e,t){var r={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r}(y,["autoPlay","controls","loop","muted","playsInline","className","size","loading"]),k=(0,c.isNil)(O)?u:O;return i.default.createElement(l.CardWrap,r({className:_?"microlink_card "+_:"microlink_card",href:s,title:t,cardSize:x,color:o,backgroundColor:a,loading:k},A),k?n(l.CardEmpty,{cardSize:x}):n(p,{title:t,description:d,url:s,image:f,video:m,autoPlay:h,controls:v,loop:g,muted:b,playsInline:P,size:x}))}}]),t}();u.defaultProps=r({apiKey:void 0,autoPlay:!0,controls:!0,image:["screenshot","image","logo"],loop:!0,muted:!0,playsInline:!0,reverse:!1,size:"normal"},c.defaultApiParameters),exports.imageProxy=c.imageProxy,exports.createApiUrl=c.createApiUrl,exports.fetchFromApiUrl=c.fetchFromApiUrl,exports.fetchFromApi=c.fetchFromApi,exports.default=u;
//# sourceMappingURL=index.m.js.map
