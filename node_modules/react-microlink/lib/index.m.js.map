{"version":3,"file":"index.m.js","sources":["index.js"],"sourcesContent":["Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.fetchFromApi=exports.fetchFromApiUrl=exports.createApiUrl=exports.imageProxy=void 0;var e,t,r=Object.assign||function(e){for(var t=arguments,r=1;r<arguments.length;r++){var o=t[r];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),n=(e=\"function\"==typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,function(t,r,o,n){var a=arguments,i=t&&t.defaultProps,l=arguments.length-3;if(r||0===l||(r={}),r&&i)for(var c in i)void 0===r[c]&&(r[c]=i[c]);else r||(r=i||{});if(1===l)r.children=n;else if(l>1){for(var s=Array(l),p=0;p<l;p++)s[p]=a[p+3];r.children=s}return{$$typeof:e,type:t,key:void 0===o?null:\"\"+o,ref:null,props:r,_owner:null}}),a=require(\"react\"),i=(t=a)&&t.__esModule?t:{default:t},l=require(\"./components/Card\"),c=require(\"./utils\");function s(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var p=function(e){var t=e.url,r=e.size,o=e.title,i=e.description;return n(a.Fragment,{},void 0,n(l.CardMedia,{image:e.image,video:e.video,url:t,cardSize:r,autoPlay:e.autoPlay,controls:e.controls,muted:e.muted,loop:e.loop,playsInline:e.playsInline}),n(l.CardContent,{className:\"microlink_card__content\",title:o,description:i,url:t,cardSize:r}))},u=function(e){function t(){var e,r,o,n=arguments;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=n[l];return r=o=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o.state={loading:!0},o.setData=function(e){var t=[].concat(o.props.image),r=(0,c.someProp)(e,t),n=(0,c.getUrlPath)(r),a=r||{};o.setState({color:a.color,backgroundColor:a.background_color,title:e.title,description:e.description,url:e.url,loading:!1,video:e.video,image:n})},s(o,r)}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:\"componentDidMount\",value:function(){var e=this,t=this.props,o=t.data;(t.noFetch||!t.url?Promise.resolve({}):(0,c.fetchFromApi)(this.props)).then(function(t){return e.setData(r({},t.data,o))})}},{key:\"componentDidUpdate\",value:function(e){e.data!==this.props.data&&this.setData(this.props.data)}},{key:\"render\",value:function(){var e=this.state,t=e.title,o=e.color,a=e.backgroundColor,s=e.url,u=e.loading,d=e.description,f=e.image,m=e.video,y=this.props,h=y.autoPlay,v=y.controls,g=y.loop,b=y.muted,P=y.playsInline,_=y.className,x=y.size,O=y.loading,A=function(e,t){var r={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r}(y,[\"autoPlay\",\"controls\",\"loop\",\"muted\",\"playsInline\",\"className\",\"size\",\"loading\"]),k=(0,c.isNil)(O)?u:O;return i.default.createElement(l.CardWrap,r({className:_?\"microlink_card \"+_:\"microlink_card\",href:s,title:t,cardSize:x,color:o,backgroundColor:a,loading:k},A),k?n(l.CardEmpty,{cardSize:x}):n(p,{title:t,description:d,url:s,image:f,video:m,autoPlay:h,controls:v,loop:g,muted:b,playsInline:P,size:x}))}}]),t}();u.defaultProps=r({apiKey:void 0,autoPlay:!0,controls:!0,image:[\"screenshot\",\"image\",\"logo\"],loop:!0,muted:!0,playsInline:!0,reverse:!1,size:\"normal\"},c.defaultApiParameters),exports.imageProxy=c.imageProxy,exports.createApiUrl=c.createApiUrl,exports.fetchFromApiUrl=c.fetchFromApiUrl,exports.fetchFromApi=c.fetchFromApi,exports.default=u;\n//# sourceMappingURL=index.js.map\n"],"names":["Object","defineProperty","exports","value","fetchFromApi","fetchFromApiUrl","createApiUrl","imageProxy","e","t","r","assign","arguments","length","o","n","prototype","hasOwnProperty","call","enumerable","configurable","writable","key","Symbol","for","a","i","defaultProps","l","c","children","s","Array","p","$$typeof","type","ref","props","_owner","require","__esModule","default","ReferenceError","url","size","title","description","Fragment","CardMedia","image","video","cardSize","autoPlay","controls","muted","loop","playsInline","CardContent","className","u","TypeError","this","__proto__","getPrototypeOf","apply","concat","state","loading","setData","someProp","getUrlPath","setState","color","backgroundColor","background_color","create","constructor","setPrototypeOf","Component","data","noFetch","Promise","resolve","then","d","f","m","y","h","v","g","b","P","_","x","O","A","indexOf","k","isNil","createElement","CardWrap","href","CardEmpty","apiKey","reverse","defaultApiParameters"],"mappings":"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"}